"0","#library(causalCalibration)"
"0","# Generate dataset used for calibration"
"0","n <- 1000 "
"0","W <- runif(n, -1 , 1)"
"0","pA1 <- plogis(2*W)"
"0","A <- rbinom(n, size = 1, pA1)"
"0","# True CATE(W) = 1 + W"
"0","CATE <- 1 + W"
"0","EY0 <- W"
"0","EY1 <- W + CATE"
"0","Y <- rnorm(n, W + A * CATE, 0.3)"
"0",""
"0","# Initial uncalibrated predictor is a monotone transformation of the true CATE"
"0","# Thus it is highly correlated with true CATE but predictions are not uncalibrated for CATE values"
"0","tau <- exp(1+ W)"
"0","plot(W, tau)"
